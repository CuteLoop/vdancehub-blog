<!-- Hero: mobile = stacked & centered; md+ = 2/3 hero + 1/3 sidebar -->
<section class="mb-12">
  <style>
    /* Mobile-only shared width/margins for stacked cards */
    @media (max-width: 767.98px) {
      .stacked-card {
        width: min(44rem, 92vw);
        margin-inline: auto;
      }
    }
    @media (min-width: 768px) {
      .stacked-card {
        width: auto;
        margin-inline: 0;
      }
    }
  </style>

  <div class="grid md:grid-cols-3 gap-6 items-start">

    <!-- HERO (2/3 on md+; stacked-card on mobile) -->
    <article class="stacked-card relative group bg-zinc-100 rounded-3xl overflow-hidden md:col-span-2">
      <!-- Full-card clickable overlay -->
      <a class="absolute inset-0 z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-blue-500 rounded-3xl"
         href="{{ .RelPermalink }}"
         aria-label="{{ printf "Open featured post: %s" .Title }}"></a>

      <!-- Inset image uses SAME horizontal padding as content -->
      <div class="px-6 md:px-8 mt-4">
        <figure class="aspect-[16/9] rounded-2xl overflow-hidden">
          <img
            src="{{ with .Params.image }}{{ . | relURL }}{{ else }}/images/default.jpg{{ end }}"
            alt="{{ with .Params.caption }}{{ . }}{{ else }}{{ .Title }}{{ end }}"
            width="1200" height="675"
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
            loading="lazy" decoding="async" />
        </figure>
      </div>

      <div class="px-6 md:px-8 pb-8 pt-4 relative z-10">
        <time class="opacity-70" datetime="{{ .Date }}">{{ .Date.Format "Jan 2, 2006" }}</time>
        <h2 class="my-3 text-3xl md:text-4xl font-bold">{{ .Title }}</h2>
        <p class="text-zinc-600">
          {{ with .Params.description }}{{ . }}{{ else }}{{ .Summary | plainify }}{{ end }}
        </p>
        <div class="mt-5">
          <span class="inline-flex items-center border rounded-full px-5 py-2 group-hover:bg-blue-100">
            Read more →
          </span>
        </div>
      </div>
    </article>

    <!-- SIDEBAR (md+ only, right side) -->
    <aside class="hidden md:block md:col-span-1">
      {{ if templates.Exists "_partials/content/aside.html" }}
        {{ partial "content/aside" . }}
      {{ else }}
        <div class="bg-zinc-100 rounded-3xl p-6">
          <h3 class="text-xl font-semibold mb-4">Reserve your seat</h3>
          <div class="space-y-3">
            <a href="/signup?course=beginner" class="w-full inline-flex justify-center items-center rounded-full border px-5 py-2 hover:bg-blue-100">Beginner Course</a>
            <a href="/signup?course=intermediate" class="w-full inline-flex justify-center items-center rounded-full border px-5 py-2 hover:bg-blue-100">Intermediate Course</a>
            <a href="/signup?event=cumbia-party" class="w-full inline-flex justify-center items-center rounded-full border px-5 py-2 hover:bg-blue-100">Cumbia Party</a>
          </div>
          <div class="mt-6">
            <h4 class="font-semibold mb-2">FAQ</h4>
            <div class="divide-y divide-zinc-200">
              <details class="py-3"><summary class="font-medium cursor-pointer">Do I need a partner?</summary><p class="mt-2 text-sm text-zinc-600">No partner needed; rotating optional.</p></details>
              <details class="py-3"><summary class="font-medium cursor-pointer">What should I bring?</summary><p class="mt-2 text-sm text-zinc-600">Comfy shoes and water.</p></details>
              <details class="py-3"><summary class="font-medium cursor-pointer">Can I drop in?</summary><p class="mt-2 text-sm text-zinc-600">Yes—drop-ins welcome.</p></details>
            </div>
          </div>
        </div>
      {{ end }}
    </aside>

    <!-- MOBILE FAQ block (below hero; EXACT same width & gutters as hero) -->
    <aside class="stacked-card md:hidden bg-zinc-100 rounded-3xl overflow-hidden">
      <div class="px-6 md:px-8 py-6">
        <h3 class="text-xl font-semibold mb-4 text-center">Reserve your seat</h3>
        <div class="space-y-3">
          <a href="/signup?course=beginner" class="w-full inline-flex justify-center items-center rounded-full border px-5 py-2 hover:bg-blue-100">Beginner Course</a>
          <a href="/signup?course=intermediate" class="w-full inline-flex justify-center items-center rounded-full border px-5 py-2 hover:bg-blue-100">Intermediate Course</a>
          <a href="/signup?event=cumbia-party" class="w-full inline-flex justify-center items-center rounded-full border px-5 py-2 hover:bg-blue-100">Cumbia Party</a>
        </div>
        <div class="mt-6">
          <h4 class="font-semibold mb-2 text-center">FAQ</h4>
          <div class="divide-y divide-zinc-200">
            <details class="py-3"><summary class="font-medium cursor-pointer">Do I need a partner?</summary><p class="mt-2 text-sm text-zinc-600">No partner needed; rotating optional.</p></details>
            <details class="py-3"><summary class="font-medium cursor-pointer">What should I bring?</summary><p class="mt-2 text-sm text-zinc-600">Comfy shoes and water.</p></details>
            <details class="py-3"><summary class="font-medium cursor-pointer">Can I drop in?</summary><p class="mt-2 text-sm text-zinc-600">Yes—drop-ins welcome.</p></details>
          </div>
        </div>
      </div>
    </aside>

  </div>
</section>
