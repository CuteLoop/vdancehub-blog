{{- $year := now.Format "2006" -}}
{{- $brand := or .Site.Params.brand (.Site.Title | default "Sparks of Connection") -}}

{{- $fb := .Site.Params.social.facebook -}}
{{- $ig := .Site.Params.social.instagram -}}

{{- $sameAs := slice -}}
{{- if $fb }}{{ $sameAs = $sameAs | append $fb }}{{ end -}}
{{- if $ig }}{{ $sameAs = $sameAs | append $ig }}{{ end -}}

<footer class="site-footer" style="padding:1.25rem 0; border-top:1px solid #e5e7eb;">
  <div class="container" style="max-width:1000px;margin:0 auto;padding:0 1rem;display:flex;align-items:center;justify-content:space-between;gap:.75rem;flex-wrap:wrap;">
    <div style="display:flex;flex-direction:column;gap:.25rem;">
      <a href="{{ "/" | relURL }}" style="font-weight:600;text-decoration:none;color:inherit;">
        {{ $brand }}
      </a>
      <small style="opacity:.8;">Â© {{ $year }} {{ $brand }}. All rights reserved.</small>
    </div>

    <nav aria-label="Social media" style="display:flex;gap:.75rem;">
      {{- if $fb }}
      <a href="{{ $fb | safeURL }}" target="_blank" rel="me noopener noreferrer"
         aria-label="Facebook" title="Facebook"
         style="display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:9999px;border:1px solid #e5e7eb;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M22 12.07C22 6.51 17.52 2 12 2S2 6.51 2 12.07c0 5.02 3.66 9.18 8.44 9.93v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.23.2 2.23.2v2.45h-1.25c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.9h-2.34V22c4.78-.75 8.44-4.91 8.44-9.93z"/>
        </svg>
      </a>
      {{- end }}

      {{- if $ig }}
      <a href="{{ $ig | safeURL }}" target="_blank" rel="me noopener noreferrer"
         aria-label="Instagram" title="Instagram"
         style="display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:9999px;border:1px solid #e5e7eb;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zM18 6.75a1.25 1.25 0 1 1-1.25 1.25A1.25 1.25 0 0 1 18 6.75z"/>
        </svg>
      </a>
      {{- end }}
    </nav>
  </div>

  {{- if gt (len $sameAs) 0 }}
  <script type="application/ld+json">
  {{- dict
      "@context" "https://schema.org"
      "@type"    "Organization"
      "name"     $brand
      "url"      .Site.BaseURL
      "sameAs"   $sameAs
     | jsonify | safeHTML -}}
  </script>
  {{- end }}
</footer>
